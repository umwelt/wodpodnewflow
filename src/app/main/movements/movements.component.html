<div id="muscles" class="page-layout carded fullwidth inner-scroll">

  <!-- CENTER -->
  <div class="center">
    <div class="header" fxLayout="column" fxLayoutAlign="center center" fxLayout.gt-sm="row" fxLayoutAlign.gt-sm="space-between center">
      <button mat-fab color="primary" style="font-size:large;" [routerLink]="['/administration/movements/movement']">+</button>
    </div>

    <!-- HEADER -->
    <div class="tblcontainer">
      <table mat-table class="full-width-table" [dataSource]="dataSource" matSort aria-label="Elements">
        <!-- Id Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
          <td mat-cell *matCellDef="let row">{{row.id}}</td>
        </ng-container>

        <ng-container matColumnDef="display_name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
          <td mat-cell *matCellDef="let row">{{row.display_name}}</td>
        </ng-container>

        <ng-container matColumnDef="difficulty">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Difficulty</th>
          <td mat-cell *matCellDef="let row">{{row.difficulty}}</td>
        </ng-container>

        <ng-container matColumnDef="primary_muscles">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Primary Muscles</th>
          <td mat-cell *matCellDef="let row">
            <span *ngFor="let x of row.primary_muscles">
              {{x.name}}
              <span *ngIf="row.primary_muscles[row.primary_muscles.length-1].name!=x.name">,</span>
            </span>
          </td>
        </ng-container>

        <ng-container matColumnDef="secondary_muscles">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Secondary Muscles</th>
          <td mat-cell *matCellDef="let row">
            <span *ngFor="let x of row.secondary_muscles">
              {{x.name}}
              <span *ngIf="row.secondary_muscles[row.secondary_muscles.length-1].name!=x.name">,</span>
            </span>
          </td>
        </ng-container>

        <ng-container matColumnDef="equipments">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Equipments</th>
          <td mat-cell *matCellDef="let row">
            <span *ngFor="let x of row.equipments">
              {{x.name}}
              <span *ngIf="row.equipments[row.equipments.length-1].name!=x.name">,</span>
            </span>
          </td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let row">
            <mat-icon class="editBtn" title="Edit" (click)="editMovement(row)" style="margin-right:3%;">edit</mat-icon>
            <mat-icon class="deleteBtn" title="Delete" (click)="removeMovement(row)">delete_forever</mat-icon>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator style="position:sticky;bottom:0;" #paginator [length]="dataSource.data.length" [pageIndex]="0" [pageSize]="25"
        [pageSizeOptions]="[5, 25, 50, 100]">
      </mat-paginator>
    </div>
  </div>
</div>